<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleafe/layout"
      th:fragment="header"
>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }
        body {
          font-family: 'Segoe UI', 'Malgun Gothic', sans-serif;
          background-color: #f8f9fa;
          color: #333;
        }
        .header {
          background: linear-gradient(135deg, #e4b6ec, #d196dd);
          color: white;
          padding: 20px 0;
          box-shadow: 0 2px 10px rgba(228, 182, 236, 0.3);
          position: relative;
          z-index: 2000;
        }
        .header-content {
          max-width: 1400px;
          margin: 0 auto;
          padding: 0 20px;
          display: flex;
          justify-content: space-between;
          align-items: center;
        }
        .logo {
          display: flex;
          align-items: center;
          gap: 15px;
          font-size: 24px;
          font-weight: bold;
        }
        .logo-icon {
          width: 50px;
          height: 50px;
          border-radius: 50%;
          border: 2px solid #e4b6ec;
          display: flex;
          align-items: center;
          justify-content: center;
          background: white;
          overflow: hidden;
        }
        .logo-icon img {
          width: 90%;
          height: 90%;
          object-fit: cover;
        }
        .nav-menu {
          display: flex;
          gap: 44px;
          align-items: center;
        }
        .nav-item {
          padding: 10px 20px;
          border-radius: 25px;
          background: rgba(255, 255, 255, 0.1);
          cursor: pointer;
          transition: all 0.3s ease;
          font-size: 14px;
          position: relative;
        }
        .nav-item:hover {
          background: rgba(255, 255, 255, 0.2);
          transform: translateY(-2px);
        }
        .nav-item.active {
          background: rgba(255, 255, 255, 0.25);
          box-shadow: 0 4px 15px rgba(255, 255, 255, 0.2);
        }

        /* 드롭다운 메뉴 */
        .nav-item.has-dropdown .dropdown-menu {
          display: none;
          position: absolute;
          top: 100%;
          left: 0;
          background: white;
          border-radius: 15px;
          box-shadow: 0 10px 40px rgba(228, 182, 236, 0.3);
          min-width: 130px;
          padding: 15px 0;
          margin-top: 10px;
          z-index: 3000;
        }
        .nav-item.has-dropdown.open .dropdown-menu {
          display: block;
        }
        .dropdown-item {
          display: block;
          padding: 12px 20px;
          color: #2d3748;
          text-decoration: none;
          font-size: 14px;
          font-weight: 500;
          transition: all 0.3s ease;
          border-left: 3px solid transparent;
        }
        .dropdown-item:hover {
          background: #f8f4ff;
          color: #e4b6ec;
          border-left-color: #e4b6ec;
          transform: translateX(5px);
        }

        .user-profile {
          display: flex;
          align-items: center;
          gap: 10px;
        }
        .profile-avatar {
          width: 35px;
          height: 35px;
          border-radius: 50%;
          background: linear-gradient(135deg, #ff6b6b, #ffd93d);
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-weight: bold;
        }
        .notification-badge {
          background: #ff4757;
          color: white;
          border-radius: 50%;
          width: 20px;
          height: 20px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 12px;
          margin-left: 10px;
        }


        .nav-item.has-dropdown .dropdown-menu {
            display: none;
        }
        .nav-item.has-dropdown.open .dropdown-menu {
            display: block;
        }

    </style>
</head>
<body>
<header class="header">
    <div class="header-content">
        <div class="logo">
            <div class="logo-icon">
                <img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FedHNCK%2FbtsQjUbYyRg%2FAAAAAAAAAAAAAAAAAAAAAL5yIvH97j1PoGG719ArkRUlPMm4udsS1KazSP2RhQSp%2Fimg.jpg%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1759244399%26allow_ip%3D%26allow_referer%3D%26signature%3DkbxYrhhlU1T3pCHJ%252Fef5ev8Eero%253D">
            </div>
            <span>KH BANK ERP</span>
        </div>
        <nav class="nav-menu">
            <div class="nav-item has-dropdown">
                프로젝트 관리
                <div class="dropdown-menu">
                    <a href="list.pj" class="dropdown-item">전체 프로젝트 목록</a>
                    <a href="myProject.pj" class="dropdown-item">내 프로젝트 관리</a>
                    <a href="enrollForm.pj" class="dropdown-item">프로젝트 신청</a>
                </div>
            </div>

            <div class="nav-item has-dropdown">
                사내 일정
                <div class="dropdown-menu">
                    <a href="list.sd" class="dropdown-item">사내 일정</a>
                    <a href="enrollForm.sd" class="dropdown-item">일정 신청</a>
                    <a href="confirm.sd" class="dropdown-item">일정 컨펌</a>
                </div>
            </div>

            <div class="nav-item has-dropdown">고객 관리
                <div class="dropdown-menu">
                    <a href="list.cus" class="dropdown-item">고객 정보조회</a>
                    <a href="insert.cus" class="dropdown-item">고객 추가</a>
                </div>
            </div>
            <div class="nav-item has-dropdown">사원 관리
                <div class="dropdown-menu">
                    <a href="list.emp" class="dropdown-item">사원 목록</a>
                    <a href="zozic.emp" class="dropdown-item">사원 조직도</a>
                </div>
            </div>
            <div class="nav-item has-dropdown">결재 내역
                <div class="dropdown-menu">
                    <a href="list.app" class="dropdown-item">결재 게시판</a>
                    <a href="enrollForm.app" class="dropdown-item">결재 신청</a>
                </div>
            </div>
            <div class="nav-item has-dropdown">마이페이지
                <div class="dropdown-menu">
                    <a href="#" class="dropdown-item">내 정보수정</a>
                    <a href="update.bo" class="dropdown-item">내 정보수정</a>
                    <a href="#" class="dropdown-item">개인 서명</a>
                </div>
            </div>
        </nav>
        <div class="user-profile">
            <div class="notification-badge">3</div>
            <div class="profile-avatar" th:text="${session.loginUser.empName.substring(0, 1)}">조</div>
            <span  th:text="${session.loginUser.empName}">조인순 부장</span>
        </div>
    </div>
</header>
<script>
    document.addEventListener("DOMContentLoaded", () => {
      const dropdowns = document.querySelectorAll(".nav-item.has-dropdown");

      dropdowns.forEach(dropdown => {
        dropdown.addEventListener("click", (e) => {
          e.stopPropagation(); // 다른 이벤트랑 충돌 방지
          dropdown.classList.toggle("open");
        });
      });

      // 바깥을 클릭하면 열려있는 드롭다운 닫기
      document.addEventListener("click", () => {
        dropdowns.forEach(d => d.classList.remove("open"));
      });
    });
</script>




</body>
</html>